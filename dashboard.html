<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUBNET MAFIA | Aviator Engine High-Acc Alpha</title>
    
    <!-- Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700;900&display=swap');

        body {
            background-color: #020202;
            color: #f1f5f9;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #27272a; border-radius: 10px; }

        @keyframes pulse-ring {
            0% { transform: scale(.33); opacity: 1; }
            80%, 100% { opacity: 0; }
        }

        .pulse-indicator {
            position: relative;
        }
        .pulse-indicator::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: inherit;
            animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }

        .active-red-glow {
            text-shadow: 0 0 40px rgba(239, 68, 68, 0.6), 0 0 10px rgba(239, 68, 68, 0.8);
        }

        .scanning-line {
            height: 2px;
            background: linear-gradient(90deg, transparent, #dc2626, transparent);
            position: absolute;
            width: 100%;
            z-index: 20;
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }

        .accuracy-gradient {
            background: linear-gradient(90deg, #ef4444 0%, #22c55e 100%);
        }
    </style>
</head>
<body class="selection:bg-red-600 selection:text-white">

    <!-- Loading Overlay -->
    <div id="loading-screen" class="fixed inset-0 z-50 bg-black flex items-center justify-center p-6">
        <div class="bg-zinc-900 border border-zinc-800 p-8 rounded-3xl text-center max-w-md w-full shadow-2xl">
            <div class="mb-6 flex justify-center">
                <div class="p-5 bg-red-600 rounded-2xl shadow-xl shadow-red-900/40">
                    <i data-lucide="shield-check" class="w-8 h-8 text-white"></i>
                </div>
            </div>
            <h1 class="text-white text-2xl font-black italic tracking-tighter mb-2 uppercase">Precision Core Init...</h1>
            <p class="text-zinc-500 text-[10px] mb-6 uppercase tracking-[0.3em]">Calibrating Ultra-High Accuracy Modules</p>
            <div class="w-full bg-zinc-800 h-1 rounded-full overflow-hidden">
                <div id="loading-bar" class="bg-red-600 h-full w-0 transition-all duration-1000 ease-out"></div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-content" class="min-h-screen p-4 sm:p-6 md:p-8 opacity-0 transition-opacity duration-700">
        <div class="max-w-6xl mx-auto space-y-6">
            
            <!-- Header -->
            <header class="flex flex-col sm:flex-row items-center justify-between border-b border-white/5 pb-8 gap-4">
                <div class="flex items-center gap-4">
                    <div class="p-3 bg-red-600 rounded-xl shadow-lg shadow-red-900/20">
                        <i data-lucide="cpu" class="w-6 h-6 text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl sm:text-3xl font-black tracking-tighter uppercase italic">
                            SUBNET <span class="text-red-600">MAFIA</span>
                        </h1>
                        <div class="flex items-center gap-3 mt-1">
                            <span class="flex items-center gap-1.5 px-2 py-0.5 bg-green-500/10 rounded-full border border-green-500/20">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-[8px] font-black text-green-500 uppercase">U-Secure</span>
                            </span>
                            <p id="user-id-display" class="text-slate-500 text-[9px] uppercase font-bold tracking-[0.2em] mono">
                                SID: OFFLINE
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center gap-4">
                    <div class="hidden lg:flex items-center gap-6 px-6 py-2 bg-white/5 rounded-full border border-white/5">
                        <div class="flex items-center gap-2">
                            <span class="text-[9px] font-bold text-zinc-500 uppercase tracking-widest">Latency</span>
                            <span class="text-[9px] mono text-green-500">8ms</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-[9px] font-bold text-zinc-500 uppercase tracking-widest">Engine</span>
                            <span class="text-[9px] mono text-red-500">ULTRA_ACC</span>
                        </div>
                    </div>
                    <button onclick="handleLogout()" class="flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-xl text-[10px] font-black uppercase transition-all active:scale-95">
                        <i data-lucide="log-out" class="w-3 h-3 text-red-500"></i> Terminate
                    </button>
                </div>
            </header>

            <main class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <!-- Controls Panel -->
                <div class="lg:col-span-4 space-y-6">
                    <section class="bg-zinc-900/40 p-6 rounded-[2rem] border border-white/10 shadow-xl backdrop-blur-md relative overflow-hidden group">
                        <div id="scan-line" class="scanning-line hidden"></div>
                        
                        <div class="flex items-center justify-between mb-4 relative z-10">
                            <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2">
                                <div class="w-1 h-3 bg-red-600"></div> Calibration Input
                            </label>
                            <i data-lucide="settings-2" class="w-4 h-4 text-zinc-600"></i>
                        </div>
                        
                        <div class="space-y-4 relative z-10">
                            <div class="space-y-2">
                                <p class="text-[9px] font-bold text-zinc-600 uppercase ml-1">Server Seed (Hex-64)</p>
                                <textarea id="seed-input" 
                                    class="w-full h-24 bg-black border border-white/10 rounded-xl p-4 text-[11px] mono outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600/30 transition-all resize-none text-slate-300"
                                    placeholder="Paste server hash..."></textarea>
                            </div>
                            
                            <div class="space-y-2">
                                <p class="text-[9px] font-bold text-zinc-600 uppercase ml-1">Client Seed (Verification Key)</p>
                                <input id="client-seed-input" type="text"
                                    class="w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-[11px] mono outline-none focus:border-red-600 text-slate-300"
                                    placeholder="e.g. 000000000000000000...">
                            </div>
                        </div>

                        <div id="error-box" class="mt-4 p-3 bg-red-900/20 border border-red-500/20 rounded-xl flex items-start gap-3 hidden">
                            <i data-lucide="alert-octagon" class="w-4 h-4 text-red-500 mt-0.5 shrink-0"></i>
                            <p id="error-message" class="text-[10px] text-red-400 font-medium leading-relaxed"></p>
                        </div>

                        <button id="scan-btn" onclick="startAnalysis()" class="w-full mt-6 py-5 rounded-2xl font-black uppercase text-xs tracking-[0.2em] bg-red-600 hover:bg-red-500 text-white shadow-lg shadow-red-900/30 border-t border-white/20 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2">
                            INITIALIZE ULTRA-ACC SCAN
                        </button>
                    </section>

                    <div class="bg-zinc-900/40 p-6 rounded-[2rem] border border-white/10">
                        <h4 class="text-[9px] font-black text-zinc-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                            <i data-lucide="bar-chart-3" class="w-3 h-3 text-red-600"></i> Engine Telemetry
                        </h4>
                        <div class="space-y-4">
                            <div class="flex justify-between items-end border-b border-white/5 pb-2">
                                <span class="text-[10px] text-zinc-500 uppercase font-bold">Bit Integrity</span>
                                <span id="tele-entropy" class="text-xs mono text-zinc-300">0.00%</span>
                            </div>
                            <div class="flex justify-between items-end border-b border-white/5 pb-2">
                                <span class="text-[10px] text-zinc-500 uppercase font-bold">Verification Pass</span>
                                <span id="tele-weight" class="text-xs mono text-zinc-300">IDLE</span>
                            </div>
                            <div class="flex justify-between items-end border-b border-white/5 pb-2">
                                <span class="text-[10px] text-zinc-500 uppercase font-bold">Chain Depth</span>
                                <span id="tele-cycle" class="text-xs mono text-zinc-300">0.0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Signal Display -->
                <div class="lg:col-span-8">
                    <div id="display-card" class="bg-zinc-900/40 p-6 sm:p-12 rounded-[3.5rem] border border-white/10 flex flex-col items-center justify-center text-center relative overflow-hidden shadow-2xl min-h-[550px] h-full backdrop-blur-xl transition-all duration-1000">
                        
                        <!-- Dynamic Background Visuals -->
                        <div id="top-glow" class="absolute -top-32 -right-32 w-96 h-96 rounded-full blur-[160px] bg-zinc-800/10 transition-colors duration-1000"></div>
                        <div id="bottom-glow" class="absolute -bottom-32 -left-32 w-96 h-96 rounded-full blur-[160px] bg-zinc-800/5"></div>

                        <div class="relative z-10 w-full space-y-12">
                            <div class="space-y-4">
                                <div class="flex flex-col items-center gap-2">
                                    <span id="status-tag" class="text-slate-500 text-[10px] font-black uppercase tracking-[0.6em] inline-flex items-center gap-2 px-6 py-1.5 rounded-full bg-white/5 border border-white/5">
                                        STANDBY: READY FOR CALIBRATION
                                    </span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="relative">
                                        <div class="text-[7rem] sm:text-[11rem] font-black italic leading-none tracking-tighter flex items-baseline">
                                            <span id="multiplier-text" class="text-zinc-800 transition-all duration-1000">0.00</span>
                                            <span class="text-red-600 text-3xl sm:text-6xl ml-4 font-black italic select-none">X</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-full max-w-sm mx-auto bg-black/50 rounded-[3.5rem] p-10 border border-white/5 shadow-inner backdrop-blur-3xl ring-1 ring-white/10 relative overflow-hidden">
                                <div id="timer-bg-glow" class="absolute inset-0 bg-red-600/0 transition-colors duration-700"></div>
                                <div class="relative z-10">
                                    <div class="flex items-center justify-center gap-2 text-red-500 mb-4">
                                        <div id="ping-indicator" class="w-2.5 h-2.5 rounded-full bg-red-600 hidden pulse-indicator"></div>
                                        <span class="text-[10px] font-black uppercase tracking-[0.4em]">Time to Impact</span>
                                    </div>
                                    
                                    <div id="timer-display" class="text-8xl sm:text-9xl font-black mono tracking-tighter transition-all duration-700 text-slate-200">
                                        00
                                        <span class="text-xs font-sans ml-2 text-zinc-600 uppercase tracking-widest block mt-4 font-bold italic">Seconds Remaining</span>
                                    </div>

                                    <div id="confirmed-badge" class="mt-8 py-3 px-8 bg-green-500/10 text-green-500 border border-green-500/20 rounded-2xl text-[10px] font-black uppercase tracking-widest hidden items-center justify-center gap-2 animate-bounce">
                                        <i data-lucide="check-circle" class="w-4 h-4"></i> Ultra-Precision Confirmed
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Log Table -->
                <div class="lg:col-span-12 mt-4">
                    <section class="bg-zinc-900/40 rounded-[2.5rem] border border-white/10 overflow-hidden shadow-2xl backdrop-blur-md">
                        <div class="px-8 py-6 bg-white/5 border-b border-white/5 flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="database" class="w-4 h-4 text-slate-500"></i>
                                <h3 class="text-[10px] font-black uppercase tracking-widest text-slate-500">Ultra-Acc Analysis Feed</h3>
                            </div>
                            <div class="flex items-center gap-2 px-4 py-1.5 bg-red-600/10 rounded-full border border-red-600/20">
                                <span class="w-1.5 h-1.5 rounded-full bg-red-600 animate-pulse"></span>
                                <span class="text-[8px] font-black text-red-500 uppercase tracking-widest">Hi-Res Neural Link</span>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full text-left border-collapse min-w-[800px]">
                                <thead class="bg-black/40 text-zinc-600 text-[9px] font-black uppercase tracking-[0.3em]">
                                    <tr>
                                        <th class="px-8 py-5">#Cycle</th>
                                        <th class="px-8 py-5">Probability</th>
                                        <th class="px-8 py-5">Integrity</th>
                                        <th class="px-8 py-5">Verified Multiplier</th>
                                        <th class="px-8 py-5 text-right">Verification Hash</th>
                                    </tr>
                                </thead>
                                <tbody id="log-body" class="text-[11px] mono">
                                    <tr>
                                        <td colspan="5" class="px-8 py-24 text-center text-zinc-700 uppercase text-[11px] tracking-[0.6em] font-black italic opacity-30">
                                            Awaiting Input Stream...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>
            </main>

            <footer class="text-center pt-12 pb-12">
                <div class="flex flex-col items-center gap-4">
                   <p class="text-[9px] uppercase font-black text-zinc-700 tracking-[0.6em] flex items-center justify-center gap-8 w-full">
                        <span class="h-[1px] bg-gradient-to-r from-transparent to-zinc-800 grow"></span>
                        SUBNET MAFIA ULTRA-ACC ALPHA â€¢ V2.6.0
                        <span class="h-[1px] bg-gradient-to-l from-transparent to-zinc-800 grow"></span>
                    </p>
                    <p class="text-[8px] text-zinc-800 font-mono flex gap-4 uppercase tracking-widest">
                        <span>Logic: Hi-Res-Scan</span>
                        <span>Mode: Ultra-Accuracy</span>
                        <span>Node: 0x82A</span>
                    </p>
                </div>
            </footer>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signInAnonymously, signInWithCustomToken, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Configuration
        const githubFallbackConfig = {
            apiKey: "AIzaSyB5w_vWoPeojuP9qFZrfeS62vAS3Cg39go", 
            authDomain: "aviator-predictor-subnet-mafia.firebaseapp.com",
            projectId: "aviator-predictor-subnet-mafia",
            storageBucket: "aviator-predictor-subnet-mafia.firebasestorage.app",
            messagingSenderId: "242699493486",
            appId: "1:242699493486:web:759941ae6e0b38ad89467f",
            measurementId: "G-WK7DYZ8X71"
        };

        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : githubFallbackConfig;
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Global State
        let currentUser = null;
        let isAnalyzing = false;
        let activeSignal = null;
        let secondsRemaining = 0;
        let logData = [];
        let timerInterval = null;
        let currentChainSeed = '';

        // UI Ref
        const loadingBar = document.getElementById('loading-bar');
        const loadingScreen = document.getElementById('loading-screen');
        const appContent = document.getElementById('app-content');
        const userIdDisplay = document.getElementById('user-id-display');
        const seedInput = document.getElementById('seed-input');
        const clientSeedInput = document.getElementById('client-seed-input');
        const errorBox = document.getElementById('error-box');
        const errorMessage = document.getElementById('error-message');
        const scanBtn = document.getElementById('scan-btn');
        const scanLine = document.getElementById('scan-line');
        const multiplierText = document.getElementById('multiplier-text');
        const timerDisplay = document.getElementById('timer-display');
        const confirmedBadge = document.getElementById('confirmed-badge');
        const pingIndicator = document.getElementById('ping-indicator');
        const statusTag = document.getElementById('status-tag');
        const logBody = document.getElementById('log-body');
        
        // Telemetry Ref
        const teleEntropy = document.getElementById('tele-entropy');
        const teleWeight = document.getElementById('tele-weight');
        const teleCycle = document.getElementById('tele-cycle');

        window.onload = async () => {
            lucide.createIcons();
            loadingBar.style.width = '70%';
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (err) { showError("Security Protocol Fault."); }
        };

        onAuthStateChanged(auth, (user) => {
            currentUser = user;
            if (user) {
                loadingBar.style.width = '100%';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    appContent.classList.remove('opacity-0');
                    userIdDisplay.innerText = `SID: ${user.uid.substring(0, 16)}`;
                }, 800);
            }
        });

        window.handleLogout = async () => {
            await signOut(auth);
            window.location.reload();
        };

        // Precision Hashing
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Standard Provably Fair Logic
        function calculateResult(hash) {
            const decimal = parseInt(hash.substring(0, 13), 16);
            const e = Math.pow(2, 52);
            let result = (e / (e - decimal));
            const finalResult = Math.max(1.00, result * 0.99);
            return Math.floor(finalResult * 100) / 100;
        }

        function showError(msg) {
            errorBox.classList.remove('hidden');
            errorMessage.innerText = msg;
            setTimeout(() => { errorBox.classList.add('hidden'); }, 6000);
        }

        window.startAnalysis = async () => {
            if (isAnalyzing) return;

            if (activeSignal) {
                logData.unshift({ ...activeSignal, timestamp: new Date().toLocaleTimeString() });
                if (logData.length > 15) logData.pop();
                renderLogs();
                currentChainSeed = await sha256(activeSignal.hash);
                resetUI();
                return;
            }

            const inputSeed = seedInput.value.trim();
            if (inputSeed && inputSeed.length < 32) {
                showError("Invalid Server Hash. Incomplete chain detected.");
                return;
            }

            const baseSeed = inputSeed || 'd2ff64abc5e35fcd38b5e7487facf7c92893030a4e56a2a9a21e77f03958bcfe';
            const clientSeed = clientSeedInput.value.trim() || '000000000000000000042d380e2d2165037d45543c6b24d9f658390b21a81232';

            isAnalyzing = true;
            scanBtn.disabled = true;
            scanLine.classList.remove('hidden');
            statusTag.innerText = "SYNCHRONIZING NEURAL WEIGHTS...";
            teleWeight.innerText = "PASS 1/2";
            
            // Artificial latency to simulate ultra-precision analysis
            await new Promise(r => setTimeout(r, 1400));

            let seedToScan = currentChainSeed || baseSeed;
            let found = false;
            let depth = 0;
            const MAX_DEPTH = 1500; // Expanded depth for ultra-accuracy

            try {
                while (!found && depth < MAX_DEPTH) {
                    // Ultra-Acc Strategy: Multi-pass hashing simulation
                    const hashInput = depth === 0 ? (seedToScan + clientSeed) : seedToScan;
                    const currentHash = await sha256(hashInput);
                    const multiplier = calculateResult(currentHash);
                    
                    // TARGET: 5.0x or higher for this mode
                    if (multiplier >= 5.0) {
                        found = true;
                        
                        // Integrity check simulation
                        const integrityScore = (Math.random() * (99.9 - 98.1) + 98.1).toFixed(2);
                        
                        activeSignal = {
                            multiplier,
                            depth,
                            seedSnapshot: currentHash,
                            hash: currentHash,
                            integrity: integrityScore,
                            probability: (Math.random() * (99.99 - 99.4) + 99.4).toFixed(3)
                        };
                        
                        teleWeight.innerText = "PASS 2/2";
                        await new Promise(r => setTimeout(r, 400));
                        triggerSignal();
                    } else {
                        seedToScan = currentHash;
                        depth++;
                        
                        // Dynamic Telemetry during scan
                        if (depth % 150 === 0) {
                            teleEntropy.innerText = `${(Math.random() * 95).toFixed(2)}%`;
                            teleCycle.innerText = (depth / 10).toFixed(1);
                        }
                    }
                }

                if (!found) {
                    showError("Cycle Exhausted: No high-precision patterns found in current node.");
                    resetUI();
                }
            } catch (err) {
                showError("Neural Interface Connectivity Error.");
                resetUI();
            } finally {
                isAnalyzing = false;
                scanBtn.disabled = false;
                scanLine.classList.add('hidden');
            }
        };

        function triggerSignal() {
            scanBtn.innerText = 'ACKNOWLEDGE & SYNC';
            scanBtn.classList.replace('bg-red-600', 'bg-green-600');
            
            statusTag.innerText = "TARGET VERIFIED (ULTRA-ACC)";
            statusTag.classList.replace('text-slate-500', 'text-red-500');
            statusTag.classList.replace('bg-white/5', 'bg-red-500/10');

            teleEntropy.innerText = `${activeSignal.integrity}%`;
            teleWeight.innerText = "LOCKED";
            teleCycle.innerText = activeSignal.depth;

            multiplierText.innerText = activeSignal.multiplier.toFixed(2);
            multiplierText.classList.replace('text-zinc-800', 'text-white');
            multiplierText.classList.add('active-red-glow');

            document.getElementById('top-glow').classList.replace('bg-zinc-800/10', 'bg-red-600/30');
            pingIndicator.classList.remove('hidden');
            
            // Refined timing based on round density
            secondsRemaining = Math.floor(activeSignal.depth * 13.8);
            updateTimer();
            
            timerInterval = setInterval(() => {
                secondsRemaining = Math.max(0, secondsRemaining - 1);
                updateTimer();
                if (secondsRemaining === 0) {
                    clearInterval(timerInterval);
                    confirmedBadge.classList.remove('hidden');
                    confirmedBadge.classList.add('flex');
                    timerDisplay.classList.replace('text-slate-200', 'text-green-500');
                    statusTag.innerText = "IMPACT IMMINENT";
                }
            }, 1000);
        }

        function updateTimer() {
            timerDisplay.innerHTML = `${String(secondsRemaining).padStart(2, '0')}<span class="text-xs font-sans ml-2 text-zinc-600 uppercase tracking-widest block mt-4 font-bold italic">Seconds to Signal</span>`;
        }

        function resetUI() {
            activeSignal = null;
            clearInterval(timerInterval);
            
            scanBtn.innerText = 'INITIALIZE ULTRA-ACC SCAN';
            scanBtn.classList.replace('bg-green-600', 'bg-red-600');
            
            statusTag.innerText = "STANDBY: READY FOR CALIBRATION";
            statusTag.classList.replace('text-red-500', 'text-slate-500');
            statusTag.classList.replace('bg-red-500/10', 'bg-white/5');
            
            multiplierText.innerText = '0.00';
            multiplierText.classList.replace('text-white', 'text-zinc-800');
            multiplierText.classList.remove('active-red-glow');
            
            timerDisplay.classList.replace('text-green-500', 'text-slate-200');
            timerDisplay.innerHTML = `00<span class="text-xs font-sans ml-2 text-zinc-600 uppercase tracking-widest block mt-4 font-bold italic">Seconds Remaining</span>`;
            
            teleWeight.innerText = "IDLE";
            teleCycle.innerText = "0.0";
            
            confirmedBadge.classList.add('hidden');
            pingIndicator.classList.add('hidden');
            document.getElementById('top-glow').classList.replace('bg-red-600/30', 'bg-zinc-800/10');
        }

        function renderLogs() {
            if (logData.length === 0) return;
            logBody.innerHTML = logData.map((res, i) => `
                <tr class="border-b border-white/5 hover:bg-white/[0.03] transition-all group">
                    <td class="px-8 py-5 text-zinc-500 font-bold italic">#${res.depth}</td>
                    <td class="px-8 py-5 text-green-500">${res.probability}%</td>
                    <td class="px-8 py-5 text-zinc-400">${res.integrity}%</td>
                    <td class="px-8 py-5">
                        <span class="px-3 py-1 bg-red-600/10 text-red-500 rounded-lg font-black border border-red-600/20 shadow-lg shadow-red-900/10">
                            ${res.multiplier.toFixed(2)}x
                        </span>
                    </td>
                    <td class="px-8 py-5 text-right text-zinc-600 text-[9px] group-hover:text-zinc-400 transition-colors truncate max-w-[150px]">
                        ${res.hash}
                    </td>
                </tr>
            `).join('');
        }
    </script>
</body>
</html>
